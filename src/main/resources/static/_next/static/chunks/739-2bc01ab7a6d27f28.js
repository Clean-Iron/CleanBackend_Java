(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[739],{1720:(e,n,a)=>{"use strict";function t(e){if(!e)return"";let[n,a]=e.split(":"),t=new Date;return t.setHours(+n,+a),t.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}a.d(n,{e:()=>t})},3539:()=>{},3747:()=>{},4619:(e,n,a)=>{"use strict";a.d(n,{AX:()=>r,El:()=>g,GZ:()=>l,JV:()=>y,Jq:()=>s,MY:()=>i,Qb:()=>v,R1:()=>j,Ue:()=>b,VU:()=>N,Yu:()=>h,_U:()=>p,bM:()=>w,co:()=>o,fS:()=>u,g_:()=>S,he:()=>x,qP:()=>m,u7:()=>c,xb:()=>d,z2:()=>f});let t=a(3464).A.create({baseURL:"https://cleaniron-cffqbcg5b9ede6fm.eastus2-01.azurewebsites.net",headers:{"Content-Type":"application/json"}}),s=async()=>{let{data:e}=await t.get("/service/all");return e},l=async e=>{let{data:n}=await t.post("/schedule",e);return n},c=async(e,n,a)=>{let{data:s}=await t.get("/schedule/servicesCity/".concat(e),{params:{year:n,month:a}});return s},r=async(e,n,a)=>{let{data:s}=await t.get("/schedule/servicesEmployee/".concat(e),{params:{year:n,month:a}});return s},i=async(e,n,a)=>{let{data:s}=await t.get("/schedule/servicesClient/".concat(e),{params:{year:n,month:a}});return s},o=async e=>{let{data:n}=await t.get("/schedule/".concat(e));return n},d=async(e,n,a,s)=>{let l={};a&&(l.city=a),e&&(l.name=e),n&&(l.surname=n);let c=Object.keys(l).length?{params:l}:{},{data:r}=await t.get("/schedule/".concat(s,"/filter"),c);return r},u=async(e,n)=>{let{data:a}=await t.patch("/schedule/".concat(e),n);return a},m=async e=>{await t.delete("/schedule/".concat(e))},h=async()=>{let{data:e}=await t.get("/client");return e},p=async e=>{let{data:n}=await t.post("/client",e);return n},x=async e=>{let{data:n}=await t.get("/client/".concat(e));return n},j=async(e,n)=>{await t.put("/client/".concat(e),n)},v=async e=>{await t.delete("/client/".concat(e))},N=async()=>{let{data:e}=await t.get("/employee");return e},g=async e=>{let{data:n}=await t.get("/employee/".concat(e));return n},f=async e=>{let{data:n}=await t.post("/employee",e);return n},y=async e=>{let{data:n}=await t.get("/employee/city/".concat(encodeURIComponent(e)));return n},b=async(e,n)=>{let{data:a}=await t.patch("/employee/update/".concat(e),n);return a},w=async e=>{await t.delete("/employee/delete/".concat(e))},S=async(e,n,a,s)=>{let{data:l}=await t.get("/employee/available",{params:{date:e,startHour:n,endHour:a,city:s}});return l}},4739:(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>b});var t=a(5155),s=a(2115),l=a(6874),c=a.n(l),r=a(4619),i=a(9521);a(3747);var o=a(6709),d=a(7173),u=a(1720);let m=e=>{let{employee:n,dataServicios:a=[],currentMonth:l=null,currentYear:c=null,onServiceUpdate:r,buttonLabels:i=["TURNO 1","TURNO 2"],minDate:m=null,maxDate:h=null}=e,p=(0,s.useMemo)(()=>new Date,[]),x=null!=c?c:p.getFullYear(),j=null!=l?l:p.getMonth(),v=new Date(x,j+1,0).getDate(),[N,g]=(0,s.useState)(!1),[f,y]=(0,s.useState)(null),[b,w]=(0,s.useState)(!1),[S,C]=(0,s.useState)({date:"",shiftIndex:0}),k=(0,s.useMemo)(()=>{let e=new Date(x,j,1).getDay();return 0===e?6:e-1},[x,j]),M=(0,s.useCallback)(e=>{let n=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),t=String(e.getDate()).padStart(2,"0");return"".concat(n,"-").concat(a,"-").concat(t)},[]),A=(0,s.useCallback)(e=>{let n=new Date;return e===n.getDate()&&j===n.getMonth()&&x===n.getFullYear()},[j,x]),E=(0,s.useCallback)(e=>{if(!m&&!h)return!1;let n=new Date(x,j,e);return m&&n<m||h&&n>h},[x,j,m,h]),D=(0,s.useMemo)(()=>{let e=[];for(let n=0;n<k;n++)e.push((0,t.jsx)("div",{className:"modern-date-empty"},"empty-".concat(n)));for(let n=1;n<=v;n++){let s=M(new Date(x,j,n)),l=a.filter(e=>e.serviceDate===s),c=[l.find(e=>e.startHour<"12:00:00"),l.find(e=>e.startHour>="12:00:00")],r=l.reduce((e,n)=>e+(n.totalServiceHours||0),0)>=8,o=["modern-date-container",A(n)&&"modern-date-container-today",E(n)&&"modern-date-container-disabled"].filter(Boolean).join(" ");e.push((0,t.jsxs)("div",{className:o,children:[(0,t.jsx)("div",{className:"modern-date-number",children:n}),(0,t.jsx)("div",{className:"modern-date-buttons",children:c.map((e,a)=>{let c=e?e.recurrenceType:r&&l.length>0?l[0].recurrenceType:null,o=null;switch(c){case"PUNTUAL":o="#3B82F6";break;case"FRECUENTE":o="#10B981";break;case"QUINCENAL":o="#FBBF24";break;case"MENSUAL":o="#EF4444"}let d=e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{children:"".concat((0,u.e)(e.startHour)," ").concat((0,u.e)(e.endHour))}),(0,t.jsx)("div",{className:"modern-btn-client",children:e.clientCompleteName})]}):r?null:i[a],m=o?{backgroundColor:o,color:"#fff"}:{},h=["modern-date-button",E(n)&&"modern-date-button-disabled"].filter(Boolean).join(" ");return(0,t.jsx)("button",{className:h,style:m,disabled:E(n),onClick:()=>{e?(y(e),g(!0)):r||(C({date:s,shiftIndex:a}),w(!0))},children:d},"".concat(n,"-").concat(a))})})]},"day-".concat(n)))}return e},[k,v,x,j,a,A,E,M,i]);return(0,t.jsxs)("div",{className:"modern-calendar",role:"application","aria-label":"Calendario de selecci\xf3n de fechas",children:[(0,t.jsx)("div",{className:"modern-month-header",children:(0,t.jsxs)("h2",{className:"modern-month-title centered",children:[["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][j]," ",x]})}),(0,t.jsx)("div",{className:"modern-weekdays",children:["Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b","Dom"].map((e,n)=>(0,t.jsx)("div",{className:"modern-weekday",children:e},n))}),(0,t.jsx)("div",{className:"modern-calendar-grid",children:D}),N&&f&&(0,t.jsx)(o.A,{service:f,onClose:()=>{g(!1),y(null)},onUpdate:()=>{g(!1),y(null),null==r||r()}}),b&&(0,t.jsx)(d.A,{show:b,onClose:()=>w(!1),empleado:n,date:S.date,startHour:0===S.shiftIndex?"06:00":"14:00",endHour:0===S.shiftIndex?"14:00":"22:00",onAssigned:()=>{w(!1),null==r||r()}})]})};a(9471),a(3539);let h=e=>{if(!e)return 0;let[n,a,t]=e.split(":").map(Number);return 60*(n||0)+(a||0)+Math.floor((t||0)/60)},p=e=>{let n=Math.floor(e/60);return"".concat(String(n).padStart(2,"0"),":").concat(String(e%60).padStart(2,"0"))},x=e=>{let{show:n,onClose:a,date:l,entries:c=[],workdayStart:r="06:00:00",workdayEnd:i="17:00:00"}=e;if(!n)return null;let o=(0,s.useMemo)(()=>h(r),[r]),d=(0,s.useMemo)(()=>h(i),[i]),u=Math.max(1,d-o),m=(0,s.useMemo)(()=>(c||[]).map(e=>{let{employee:n,busy:a=[]}=e,t=function(e,n,a){let t=(e||[]).map(e=>{let{start:t,end:s}=e;return{start:Math.max(t,n),end:Math.min(s,a)}}).filter(e=>e.end>e.start).sort((e,n)=>e.start-n.start);if(!t.length)return[];let s=[t[0]];for(let e=1;e<t.length;e++){let n=s[s.length-1],a=t[e];a.start<=n.end?n.end=Math.max(n.end,a.end):s.push(a)}return s}(a.map(e=>({start:h(e.startHour),end:h(e.endHour)})),o,d),s=function(e,n,a){let t=[];if(!e.length)return a>n&&t.push({start:n,end:a}),t;let s=n;for(let n of e)n.start>s&&t.push({start:s,end:n.start}),s=Math.max(s,n.end);return a>s&&t.push({start:s,end:a}),t}(t,o,d),l=[];if(t.length){let e=o;for(let n of t)n.start>e&&l.push({kind:"free",start:e,end:n.start}),l.push({kind:"busy",start:n.start,end:n.end}),e=n.end;e<d&&l.push({kind:"free",start:e,end:d})}else l.push({kind:"free",start:o,end:d});return{employee:n,mergedBusy:t,free:s,segments:l}}),[c,o,d]),x=(0,s.useMemo)(()=>{let e=[p(o)],n=Math.ceil(o/60),a=Math.floor(d/60);for(let t=n;t<=a;t++){let n="".concat(String(t).padStart(2,"0"),":00");n!==e[0]&&e.push(n)}let t=p(d);return e[e.length-1]!==t&&e.push(t),e},[o,d]);return(0,t.jsx)("div",{className:"modal-overlay",children:(0,t.jsxs)("div",{className:"modal-container modal-espacios-servicios",children:[(0,t.jsx)("div",{className:"mess-header",children:(0,t.jsx)("button",{className:"mess-close",onClick:a,"aria-label":"Cerrar",children:"\xd7"})}),(0,t.jsx)("div",{className:"mess-content",children:m.map(e=>{var n;let{employee:a,mergedBusy:s,free:l,segments:c}=e;return(0,t.jsxs)("div",{className:"mess-employee-block",children:[(0,t.jsxs)("h3",{className:"mess-employee-name",children:[null==a?void 0:a.name," ",null==a?void 0:a.surname," ",(0,t.jsxs)("span",{className:"doc",children:["(",null==a?void 0:a.document,")"]})]}),(0,t.jsxs)("div",{className:"timeline",children:[(0,t.jsx)("div",{className:"timeline-bar",children:c.map((e,n)=>{let a=(e.end-e.start)/u*100;return(0,t.jsx)("span",{className:"segment ".concat(e.kind),style:{width:"".concat(a,"%")},title:"".concat("free"===e.kind?"Libre":"Asignado",": ").concat(p(e.start),"–").concat(p(e.end))},n)})}),(0,t.jsx)("div",{className:"timeline-scale",children:x.map((e,n)=>(0,t.jsx)("span",{className:"tick",children:e},"".concat(e,"-").concat(n)))}),(0,t.jsxs)("div",{className:"timeline-legend",children:[(0,t.jsxs)("span",{className:"legend-item",children:[(0,t.jsx)("i",{className:"swatch free"})," Disponible"]}),(0,t.jsxs)("span",{className:"legend-item",children:[(0,t.jsx)("i",{className:"swatch busy"})," Asignado"]})]})]}),s.length>0&&(0,t.jsxs)("details",{className:"mess-busy-details",children:[(0,t.jsx)("summary",{children:"Ver espacios asignados"}),(0,t.jsx)("ul",{className:"busy-list",children:s.map((e,n)=>(0,t.jsxs)("li",{children:[p(e.start)," – ",p(e.end)]},n))})]})]},null!==(n=null==a?void 0:a.document)&&void 0!==n?n:Math.random())})})]})})},j="06:00:00",v="17:00:00";function N(e){if(!e)return 0;let[n,a,t]=e.split(":").map(Number);return 60*n+(a||0)+(t||0)/60}let g=e=>String(e).padStart(2,"0"),f=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],y=e=>{let{city:n="",currentMonth:a=null,currentYear:l=null}=e,c=["DISPONIBLE","PERMISO/VAC"],i=(0,s.useMemo)(()=>new Date,[]),o=null!=l?l:i.getFullYear(),d=null!=a?a:i.getMonth(),u=new Date(o,d+1,0).getDate(),[m,h]=(0,s.useState)([]),[p,y]=(0,s.useState)([]),[b,w]=(0,s.useState)({}),[S,C]=(0,s.useState)(!1),[k,M]=(0,s.useState)([]),[A,E]=(0,s.useState)("");(0,s.useEffect)(()=>{(async()=>{if(!n){h([]);return}try{let e=await (0,r.u7)(n,o,d+1);h(Array.isArray(e)?e:[])}catch(e){h([])}})()},[n,o,d]),(0,s.useEffect)(()=>{(async()=>{if(!n){y([]);return}try{let e=await (0,r.JV)(n);y(Array.isArray(e)?e:[])}catch(e){y([])}})()},[n]),(0,s.useEffect)(()=>{let e=N(j),n=N(v),a={};for(let t of m){let s=t.serviceDate,l=Math.max(N(t.startHour),e),c=Math.min(N(t.endHour),n);if(!(c<=l))for(let e of(a[s]||(a[s]={}),Array.isArray(t.employees)?t.employees:[])){let n=e.employeeDocument||e.document;n&&(a[s][n]||(a[s][n]=[]),a[s][n].push({start:l,end:c}))}}let t=new Set([...p.map(e=>e.document||e.employeeDocument).filter(Boolean),...m.flatMap(e=>(e.employees||[]).map(e=>e.employeeDocument)).filter(Boolean)]),s={};for(let c=1;c<=u;c++){let r=new Date(o,d,c).toISOString().slice(0,10),i=0,u=0,m=0,h=0;for(let s of t){var l;let t=function(e){if(!e.length)return[];let n=e.slice().sort((e,n)=>e.start-n.start),a=[n[0]];for(let e=1;e<n.length;e++){let t=a[a.length-1],s=n[e];s.start<=t.end?t.end=Math.max(t.end,s.end):a.push(s)}return a}(((null===(l=a[r])||void 0===l?void 0:l[s])||[]).filter(e=>e.end>e.start)),c=[];if(t.length){let a=e;for(let e of t)e.start>a&&c.push({start:a,end:e.start}),a=Math.max(a,e.end);n>a&&c.push({start:a,end:n})}else n>e&&c.push({start:e,end:n});for(let e of c){let n=e.end-e.start;i+=Math.floor(n/240),u+=Math.floor(n/240),m+=Math.floor(n/300),h+=Math.floor(n/480)}}s[c]={any:i,h4:u,h5:m,h8:h}}w(e=>{for(let n=1;n<=u;n++){let a=(null==e?void 0:e[n])||{},t=(null==s?void 0:s[n])||{};if(a.any!==t.any||a.h4!==t.h4||a.h5!==t.h5||a.h8!==t.h8)return s}return e})},[m,p,u,d,o]);let D=(0,s.useMemo)(()=>{let e=new Date(o,d,1).getDay();return 0===e?6:e-1},[o,d]),L=e=>{let n=new Date;return e===n.getDate()&&d===n.getMonth()&&o===n.getFullYear()},U=e=>{let n="".concat(o,"-").concat(g(d+1),"-").concat(g(e));E(n);let a=m.filter(e=>e.serviceDate===n).flatMap(e=>(e.employees||[]).map(e=>({document:e.employeeDocument,name:e.employeeName,surname:e.employeeSurname}))).filter(e=>e.document),t=new Map;for(let e of p){let n=e.document||e.employeeDocument;n&&t.set(n,{document:n,name:e.name,surname:e.surname})}for(let e of a)t.has(e.document)||t.set(e.document,{document:e.document,name:e.name,surname:e.surname});M(Array.from(t.values()).map(e=>{let a=m.filter(a=>a.serviceDate===n&&(a.employees||[]).some(n=>(n.employeeDocument||n.document)===e.document)).map(e=>({startHour:e.startHour,endHour:e.endHour,label:e.clientCompleteName||e.clientName||""}));return{employee:e,busy:a}})),C(!0)},H=(0,s.useMemo)(()=>{let e=[];for(let n=0;n<D;n++)e.push((0,t.jsx)("div",{className:"calendar-date-empty"},"empty-".concat(n)));for(let n=1;n<=u;n++){let a=L(n),s=b[n]||{any:0,h4:0,h5:0,h8:0},l=["calendar-date-container",a&&"calendar-date-container-today"].filter(Boolean).join(" ");e.push((0,t.jsxs)("div",{className:l,children:[(0,t.jsx)("div",{className:"calendar-date-number",children:n}),(0,t.jsx)("div",{className:"calendar-date-buttons",children:c.map((e,a)=>(0,t.jsx)("button",{className:["calendar-date-button","calendar-date-button-".concat(a)].join(" "),onClick:0===a?()=>U(n):void 0,children:(0,t.jsxs)("span",{className:"btn-content",children:[(0,t.jsx)("span",{className:"label",children:e}),0===a&&(0,t.jsxs)("span",{className:"slots-line",children:[(0,t.jsxs)("span",{className:"slots-top",children:["4h: ",s.h4," 5h: ",s.h5]}),(0,t.jsxs)("span",{className:"slots-8h",children:["8h: ",s.h8]})]})]})},"".concat(n,"-").concat(a)))})]},"day-".concat(n)))}return e},[D,u,L,b,c,d,o]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"three-button-calendar",role:"application","aria-label":"Calendario de selecci\xf3n de fechas",children:[(0,t.jsx)("div",{className:"calendar-month-header",children:(0,t.jsxs)("h2",{className:"calendar-month-title centered",children:[f[d]," ",o]})}),(0,t.jsx)("div",{className:"calendar-weekdays",children:["Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b","Dom"].map((e,n)=>(0,t.jsx)("div",{className:"calendar-weekday",children:e},n))}),(0,t.jsx)("div",{className:"calendar-grid",children:H})]}),(0,t.jsx)(x,{show:S,onClose:()=>C(!1),date:A,entries:k,workdayStart:j,workdayEnd:v})]})},b=()=>{let[e,n]=(0,s.useState)(new Date().getMonth()),[a,l]=(0,s.useState)(new Date().getFullYear()),[o,d]=(0,s.useState)(""),{ciudades:u,isLoading:h,isError:p}=(0,i.k)(),[x,j]=(0,s.useState)([]),[v,N]=(0,s.useState)(null),[g,f]=(0,s.useState)([]),[b,w]=(0,s.useState)(!1),[S,C]=(0,s.useState)(!1),[k,M]=(0,s.useState)(!1),[A,E]=(0,s.useState)(""),[D,L]=(0,s.useState)([]),[U,H]=(0,s.useState)(!1),R=(0,s.useRef)(null),F=(0,s.useRef)(null),I=(0,s.useRef)(null),T=(0,s.useRef)(null),O=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],J=new Date().getFullYear(),P=Array.from({length:11},(e,n)=>J-5+n);(0,s.useEffect)(()=>{o?(0,r.JV)(o).then(e=>{let n=e||[];j(n),N(null),E(""),L(n)}).catch(()=>{j([]),N(null),E(""),L([])}):(j([]),N(null),E(""),L([]))},[o]),(0,s.useEffect)(()=>{if(!v){f([]);return}let n=e+1;(0,r.AX)(v.document,a,n).then(e=>f(e)).catch(e=>{console.error(e),f([])})},[v,e,a]),(0,s.useEffect)(()=>{let e=e=>{F.current&&!F.current.contains(e.target)&&w(!1),I.current&&!I.current.contains(e.target)&&C(!1),T.current&&!T.current.contains(e.target)&&M(!1),R.current&&!R.current.contains(e.target)&&H(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let Y=(e,a)=>{n(a),w(!1)},G=e=>{l(e),C(!1)},B=e=>{d(e),M(!1)},V=e=>{E(e),H(!0);let n=e.trim().toLowerCase();if(!n){L(x);return}L(x.filter(e=>{var a,t,s;let l="".concat(null!==(a=e.name)&&void 0!==a?a:""," ").concat(null!==(t=e.surname)&&void 0!==t?t:"").toLowerCase(),c=(null!==(s=e.document)&&void 0!==s?s:"").toString().toLowerCase();return l.includes(n)||c.includes(n)}))},q=e=>{N(e),E("".concat(e.name," ").concat(e.surname)),H(!1)};return(0,t.jsx)("div",{style:{width:"100vw",height:"180vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",position:"relative"},children:(0,t.jsxs)("div",{className:"container",style:{height:"170vh",marginLeft:"0.5cm",marginTop:"0.5cm"},children:[(0,t.jsxs)("div",{style:{width:"240px",height:"100%",marginRight:"auto",padding:"20px",boxShadow:"2px 0px 10px rgba(0, 0, 0, 0.2)",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,t.jsxs)(c(),{href:"/servicios",className:"btn-53",children:[(0,t.jsx)("div",{className:"original",children:"⬅ Regresar"}),(0,t.jsxs)("div",{className:"letters",children:[(0,t.jsx)("span",{children:"M"}),(0,t.jsx)("span",{children:"E"}),(0,t.jsx)("span",{children:"N"}),(0,t.jsx)("span",{children:"\xda"})]})]}),(0,t.jsx)("div",{className:"menu-buttons",children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsxs)("div",{className:"dropdown",ref:F,children:[(0,t.jsxs)("button",{type:"button",className:"dropdown-trigger ".concat(b?"open":""),onClick:()=>w(!b),children:[(0,t.jsx)("span",{children:O[e]}),(0,t.jsx)("span",{className:"arrow",children:"▼"})]}),b&&(0,t.jsx)("div",{className:"dropdown-content",children:O.map((n,a)=>(0,t.jsx)("button",{type:"button",className:e===a?"selected":"",onClick:()=>Y(n,a),children:n},a))})]})}),(0,t.jsx)("li",{children:(0,t.jsxs)("div",{className:"dropdown",ref:I,children:[(0,t.jsxs)("button",{type:"button",className:"dropdown-trigger ".concat(S?"open":""),onClick:()=>C(!S),children:[(0,t.jsx)("span",{children:a}),(0,t.jsx)("span",{className:"arrow",children:"▼"})]}),S&&(0,t.jsx)("div",{className:"dropdown-content",children:P.map(e=>(0,t.jsx)("button",{type:"button",className:a===e?"selected":"",onClick:()=>G(e),children:e},e))})]})}),(0,t.jsx)("li",{children:(0,t.jsxs)("div",{className:"dropdown",ref:T,children:[(0,t.jsxs)("button",{type:"button",className:"dropdown-trigger ".concat(k?"open":""," ").concat(o?"city-selected":""),onClick:()=>M(!k),children:[(0,t.jsx)("span",{children:o||"Seleccionar ciudad"}),(0,t.jsx)("span",{className:"arrow",children:"▼"})]}),k&&(0,t.jsxs)("div",{className:"dropdown-content",children:[o&&(0,t.jsx)("button",{type:"button",className:"clear-option",onClick:()=>B(""),children:"Limpiar selecci\xf3n"}),h&&(0,t.jsx)("div",{children:"Cargando ciudades..."}),p&&(0,t.jsx)("div",{children:"Error al cargar ciudades"}),!h&&!p&&u.map((e,n)=>(0,t.jsx)("button",{type:"button",className:o===e?"selected":"",onClick:()=>B(e),children:e},n))]})]})}),x.length>0&&(0,t.jsx)("li",{children:(0,t.jsxs)("div",{className:"dropdown",ref:R,children:[(0,t.jsx)("input",{type:"text",placeholder:"Selec. empleado",value:A,onChange:e=>V(e.target.value),onFocus:()=>{H(!0),L(x)}}),U&&D.length>0&&(0,t.jsx)("div",{className:"dropdown-content",children:D.map(e=>(0,t.jsxs)("button",{type:"button",className:(null==v?void 0:v.document)===e.document?"selected":"",onClick:()=>q(e),children:[e.name," ",e.surname]},e.document))})]})})]})})]}),v?(0,t.jsx)(m,{employee:v,dataServicios:g,currentMonth:e,currentYear:a,onServiceUpdate:()=>{if(!v){f([]);return}let n=e+1;(0,r.AX)(v.document,a,n).then(e=>f(e)).catch(e=>{console.error(e),f([])})}}):(0,t.jsx)(y,{city:o,currentMonth:e,currentYear:a})]})})}},6709:(e,n,a)=>{"use strict";a.d(n,{A:()=>i});var t=a(5155),s=a(2115),l=a(4619),c=a(9521),r=a(1720);let i=e=>{let{service:n,onClose:a,onUpdate:i}=e,[o,d]=(0,s.useState)(n.serviceDate),u=(0,c.p)({startHour:0,endHour:24,stepMinutes:30}),[m,h]=(0,s.useState)([]),[p,x]=(0,s.useState)([]),[j,v]=(0,s.useState)([]),[N,g]=(0,s.useState)([]),[f,y]=(0,s.useState)(""),[b,w]=(0,s.useState)(n.startHour||""),[S,C]=(0,s.useState)(n.endHour||""),[k,M]=(0,s.useState)(n.state||""),[A,E]=(0,s.useState)(!1),[D,L]=(0,s.useState)(!1),[U,H]=(0,s.useState)(!1),[R,F]=(0,s.useState)(!1),[I,T]=(0,s.useState)(!1),O=(0,s.useRef)(null),J=(0,s.useRef)(null),P=(0,s.useRef)(null);(0,s.useEffect)(()=>{n.services&&h(n.services.map(e=>({id:e.idService,description:e.serviceDescription}))),n.employees&&x(n.employees.map(e=>({document:e.employeeDocument,employeeCompleteName:e.employeeCompleteName}))),y(n.comments||""),(0,l.VU)().then(g).catch(()=>g([])),(0,l.Jq)().then(v).catch(()=>v([]))},[n]),(0,s.useEffect)(()=>{let e=e=>{O.current&&!O.current.contains(e.target)&&E(!1),J.current&&!J.current.contains(e.target)&&L(!1),P.current&&!P.current.contains(e.target)&&H(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let Y=async()=>{let e={...n,date:o,startHour:b,endHour:S,state:k,employeeDocuments:p.map(e=>e.document),idServices:m.map(e=>e.id),comments:f};await (0,l.fS)(n.id,e),null==i||i(),a()},G=async()=>{confirm("\xbfEliminar este servicio?")&&(await (0,l.qP)(n.id),null==i||i(),a())};return(0,t.jsx)("div",{className:"modal-overlay",onClick:a,children:(0,t.jsxs)("div",{className:"modal-container",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"modal-datos-superiores",style:{justifyContent:"flex-start",gap:"2rem"},children:[(0,t.jsx)("input",{type:"date",value:o,onChange:e=>d(e.target.value)}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,t.jsx)("span",{children:"Hora Inicio"}),(0,t.jsxs)("div",{className:"dropdown",ref:O,children:[(0,t.jsxs)("button",{type:"button",className:"dropdown-trigger ".concat(A?"open":""),onClick:()=>E(e=>!e),children:[(0,t.jsx)("span",{children:(0,r.e)(b)||"Hora inicio"}),(0,t.jsx)("span",{className:"arrow",children:"▼"})]}),A&&(0,t.jsx)("div",{className:"dropdown-content",children:u.map(e=>{let{value:n,label:a}=e;return(0,t.jsx)("button",{onClick:()=>{w(n),E(!1)},children:a},n)})})]})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,t.jsx)("span",{children:"Hora Fin"}),(0,t.jsxs)("div",{className:"dropdown",ref:J,children:[(0,t.jsxs)("button",{type:"button",className:"dropdown-trigger ".concat(D?"open":""),onClick:()=>L(e=>!e),children:[(0,t.jsx)("span",{children:(0,r.e)(S)||"Hora fin"}),(0,t.jsx)("span",{className:"arrow",children:"▼"})]}),D&&(0,t.jsx)("div",{className:"dropdown-content",children:u.map(e=>{let{value:n,label:a}=e;return(0,t.jsx)("button",{onClick:()=>{C(n),L(!1)},children:a},n)})})]})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,t.jsx)("span",{children:"Estado"}),(0,t.jsxs)("div",{className:"dropdown",ref:P,children:[(0,t.jsxs)("button",{type:"button",className:"dropdown-trigger ".concat(U?"open":""),onClick:()=>H(e=>!e),children:[(0,t.jsx)("span",{children:k||"Estado"}),(0,t.jsx)("span",{className:"arrow",children:"▼"})]}),U&&(0,t.jsx)("div",{className:"dropdown-content",children:["PROGRAMADA","COMPLETADA","CANCELADA"].map(e=>(0,t.jsx)("button",{onClick:()=>{M(e),H(!1)},children:e},e))})]})]})]}),(0,t.jsxs)("div",{className:"modal-asignacion-form-grid",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:"Cliente"}),(0,t.jsx)("input",{type:"text",readOnly:!0,value:n.clientCompleteName||""})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:"Direcci\xf3n"}),(0,t.jsx)("input",{type:"text",readOnly:!0,value:n.addressService||""})]}),(0,t.jsxs)("div",{className:"modal-chip-section",children:[(0,t.jsx)("label",{children:"Servicios:"}),(0,t.jsxs)("div",{className:"modal-chip-container",children:[(0,t.jsxs)("div",{className:"chips",children:[m.map(e=>(0,t.jsxs)("div",{className:"modal-chip",children:[e.description,(0,t.jsx)("span",{className:"modal-asignacion-remove-btn",onClick:()=>h(m.filter(n=>n.id!==e.id)),children:"\xd7"})]},e.id)),(0,t.jsx)("button",{type:"button",className:"modal-asignacion-add-servicio-btn",onClick:()=>F(e=>!e),children:"+"})]}),R&&(0,t.jsx)("div",{className:"modal-asignacion-dropdown-chip",children:j.filter(e=>!m.find(n=>n.id===e.id)).map(e=>(0,t.jsx)("button",{onClick:()=>{h([...m,{id:e.id,description:e.description}]),F(!1)},children:e.description},e.id))})]})]}),(0,t.jsxs)("div",{className:"modal-chip-section",children:[(0,t.jsx)("label",{children:"Personal Asignado:"}),(0,t.jsxs)("div",{className:"modal-chip-container",children:[(0,t.jsxs)("div",{className:"chips",children:[p.map(e=>(0,t.jsxs)("div",{className:"modal-chip",children:[e.employeeCompleteName,(0,t.jsx)("span",{className:"modal-asignacion-remove-btn",onClick:()=>x(p.filter(n=>n.document!==e.document)),children:"\xd7"})]},e.document)),(0,t.jsx)("button",{type:"button",className:"modal-asignacion-add-empleado-btn",onClick:()=>T(e=>!e),children:"+"})]}),I&&(0,t.jsx)("div",{className:"modal-asignacion-dropdown-chip",children:N.filter(e=>!p.some(n=>n.document===e.document)).map(e=>(0,t.jsxs)("button",{onClick:()=>{x([...p,{document:e.document,employeeCompleteName:"".concat(e.name," ").concat(e.surname)}]),T(!1)},children:[e.name," ",e.surname]},e.document))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:"Ciudad"}),(0,t.jsx)("input",{type:"text",readOnly:!0,value:n.city||""})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:"Comentarios"}),(0,t.jsx)("textarea",{rows:3,className:"modal-asignacion-textarea",value:f,onChange:e=>y(e.target.value)})]})]}),(0,t.jsxs)("div",{className:"modal-asignacion-form-buttons",children:[(0,t.jsx)("button",{className:"modal-asignacion-btn-confirmar",onClick:Y,children:"Guardar Cambios"}),(0,t.jsx)("button",{className:"modal-asignacion-btn-eliminar",onClick:G,children:"Eliminar"}),(0,t.jsx)("button",{className:"modal-asignacion-btn-cancelar",onClick:a,children:"Cerrar"})]})]})})}},7173:(e,n,a)=>{"use strict";a.d(n,{A:()=>u});var t=a(5155),s=a(2115),l=a(4619),c=a(9521),r=a(1720);let i=e=>new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().slice(0,10);function o(e){let{show:n,onClose:a,recurrence:l="NINGUNA",baseDate:c,onConfirm:r}=e,o=c||i(new Date),[d,u]=(0,s.useState)(o),[m,h]=(0,s.useState)(()=>new Set([o]));(0,s.useMemo)(()=>({NINGUNA:"Sin frecuencia",PUNTUAL:"Puntual",FRECUENTE:"Frecuente",QUINCENAL:"Quincenal",MENSUAL:"Mensual"})[l]||"Fechas",[l]);let p=e=>{u(e),h(n=>new Set([...n,e]))},x=e=>{let n=new Set(m);n.delete(e),h(n)};if(!n)return null;let j=(()=>{let e=Array.from(m);return e.includes(o)?[o,...e.filter(e=>e!==o)]:e})();return(0,t.jsx)("div",{className:"modal-overlay",children:(0,t.jsx)("div",{className:"modal-container",children:(0,t.jsxs)("div",{className:"modal-asignacion-form-grid",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:"Selecciona fecha"}),(0,t.jsx)("input",{type:"date",value:d,onChange:e=>p(e.target.value)})]}),(0,t.jsxs)("div",{className:"modal-chip-section",children:[(0,t.jsx)("label",{children:"Fechas seleccionadas"}),(0,t.jsx)("div",{className:"modal-chip-container",children:(0,t.jsx)("div",{className:"chips",children:0===j.length?(0,t.jsx)("div",{className:"modal-asignacion-no-opciones",children:"No hay fechas agregadas todav\xeda."}):j.map(e=>(0,t.jsxs)("div",{className:"modal-chip",children:[e,(0,t.jsx)("span",{className:"modal-asignacion-remove-btn",onClick:()=>x(e),children:"\xd7"})]},e))})})]}),(0,t.jsxs)("div",{className:"modal-asignacion-form-buttons modal-asignacion-full-width",children:[(0,t.jsx)("button",{onClick:a,className:"modal-asignacion-btn-cancelar",children:"Cerrar"}),(0,t.jsx)("button",{type:"button",onClick:()=>{h(new Set([o])),u(o)},className:"modal-asignacion-btn-cancelar",children:"Restablecer al mismo d\xeda"}),(0,t.jsxs)("button",{type:"button",className:"modal-asignacion-btn-confirmar",onClick:()=>null==r?void 0:r(j),disabled:0===j.length,title:0===j.length?"Agrega al menos una fecha":"",children:["Usar ",j.length," fecha(s)"]})]})]})})})}let d=["NINGUNA","PUNTUAL","FRECUENTE","QUINCENAL","MENSUAL"];function u(e){let{show:n,onClose:a,empleado:i,date:u,startHour:m,endHour:h,allEmployees:p=[],onAssigned:x}=e,j=(0,s.useRef)(null),v=(0,s.useRef)(null),N=(0,s.useRef)(null),g=(0,s.useRef)(null),f=(0,s.useRef)(null),y=(0,s.useRef)(null),[b,w]=(0,s.useState)(m||""),[S,C]=(0,s.useState)(h||""),[k,M]=(0,s.useState)("NINGUNA"),[A,E]=(0,s.useState)(!1),[D,L]=(0,s.useState)([]),[U,H]=(0,s.useState)(!1),[R,F]=(0,s.useState)(!1),[I,T]=(0,s.useState)(!1),[O,J]=(0,s.useState)([]),[P,Y]=(0,s.useState)(!1),[G,B]=(0,s.useState)([]),[V,q]=(0,s.useState)([]),[z,_]=(0,s.useState)(!1),[Q,X]=(0,s.useState)([]),[Z,K]=(0,s.useState)([]),[W,$]=(0,s.useState)(null),[ee,en]=(0,s.useState)(null),[ea,et]=(0,s.useState)(""),[es,el]=(0,s.useState)(!1),[ec,er]=(0,s.useState)(""),ei=(0,c.p)({startHour:0,endHour:24,stepMinutes:30}),eo=e=>{var n;return(null===(n=ei.find(n=>n.value===e))||void 0===n?void 0:n.label)||(e?(0,r.e)(e):"")};(0,s.useEffect)(()=>{n&&(w(m||""),C(h||""))},[n,m,h]),(0,s.useEffect)(()=>{n&&((0,l.Jq)().then(e=>B(e||[])).catch(()=>B([])),(0,l.Yu)().then(e=>{X(e||[]),K(e||[]),$(null),en(null),et("")}).catch(()=>{X([]),K([])}))},[n]),(0,s.useEffect)(()=>{if(!n)return;let e=(e,n)=>(null==e?void 0:e.current)&&e.current.contains(n),a=n=>{let a=n.target;R&&!e(v,a)&&F(!1),I&&!e(N,a)&&T(!1),U&&!e(j,a)&&H(!1),es&&!e(g,a)&&el(!1),P&&!e(f,a)&&Y(!1),z&&!e(y,a)&&_(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[n,R,I,U,es,P,z]);let ed=e=>{J(n=>n.some(n=>n.document===e.document)?n:[...n,e]),Y(!1)},eu=e=>{J(n=>n.filter(n=>n.document!==e))},em=e=>{q(n=>n.some(n=>n.id===e.id)?n:[...n,e]),_(!1)},eh=e=>{q(n=>n.filter(n=>n.id!==e))},ep=e=>{et(e),el(!0);let n=e.trim().toLowerCase();if(!n){K(Q);return}K(Q.filter(e=>{var a,t,s,l;let c="".concat(null!==(a=e.name)&&void 0!==a?a:""," ").concat(null!==(t=e.surname)&&void 0!==t?t:"").toLowerCase(),r=(null!==(s=e.document)&&void 0!==s?s:"").toString().toLowerCase(),i=(null!==(l=e.addresses)&&void 0!==l?l:[]).map(e=>{var n,a;return"".concat(null!==(n=e.address)&&void 0!==n?n:""," ").concat(null!==(a=e.city)&&void 0!==a?a:"").toLowerCase()}).join(" | ");return c.includes(n)||r.includes(n)||i.includes(n)}))},ex=(e,n)=>{var a;$(e),en(n),et("".concat(e.name," ").concat(e.surname," — ").concat(null!==(a=null==n?void 0:n.address)&&void 0!==a?a:"").concat((null==n?void 0:n.city)?" (".concat(n.city,")"):"")),el(!1)},ej=e=>{M(e),"NINGUNA"!==e?E(!0):L([])},ev=async()=>{if(!W||0===V.length){alert("Seleccione un cliente y al menos un servicio");return}if(!b||!S){alert("Seleccione la hora de inicio y la hora de fin");return}if(!ee){alert("Seleccione una direcci\xf3n para el servicio");return}let e=(D.length>0?D:[u]).map(e=>({client:W,serviceAddress:ee,employees:[i,...O],services:V,date:e,startHour:b,endHour:S,comments:ec,state:"PROGRAMADA",recurrenceType:"NINGUNA"===k?"PUNTUAL":k}));try{await (0,l.GZ)(e),alert("Servicio(s) asignado(s) correctamente (".concat(e.length,")")),null==x||x(),a()}catch(e){console.error(e),alert("Error al asignar servicio(s)")}};return n?(0,t.jsxs)("div",{className:"modal-overlay",children:[(0,t.jsxs)("div",{className:"modal-container",children:[(0,t.jsxs)("div",{className:"modal-datos-superiores",children:[(0,t.jsx)("span",{children:u}),(0,t.jsxs)("div",{className:"dropdown",ref:v,children:[(0,t.jsxs)("button",{type:"button",className:"dropdown-trigger ".concat(R?"open":""),onClick:()=>F(e=>!e),children:[(0,t.jsx)("span",{children:eo(b)||"Hora inicio"}),(0,t.jsx)("span",{className:"arrow",children:"▼"})]}),R&&(0,t.jsx)("div",{className:"dropdown-content",children:ei.map(e=>{let{value:n,label:a}=e;return(0,t.jsx)("button",{onClick:()=>{w(n),F(!1)},children:a},n)})})]}),(0,t.jsxs)("div",{className:"dropdown",ref:N,children:[(0,t.jsxs)("button",{type:"button",className:"dropdown-trigger ".concat(I?"open":""),onClick:()=>T(e=>!e),children:[(0,t.jsx)("span",{children:eo(S)||"Hora fin"}),(0,t.jsx)("span",{className:"arrow",children:"▼"})]}),I&&(0,t.jsx)("div",{className:"dropdown-content",children:ei.map(e=>{let{value:n,label:a}=e;return(0,t.jsx)("button",{onClick:()=>{C(n),T(!1)},children:a},n)})})]}),(0,t.jsxs)("div",{className:"dropdown",ref:j,children:[(0,t.jsxs)("button",{type:"button",className:"dropdown-trigger ".concat(U?"open":""),onClick:()=>H(e=>!e),children:[(0,t.jsx)("span",{children:k}),(0,t.jsx)("span",{className:"arrow",children:"▼"})]}),U&&(0,t.jsx)("div",{className:"dropdown-content",children:d.map(e=>(0,t.jsx)("button",{onClick:()=>{ej(e),H(!1)},children:e},e))})]})]}),(0,t.jsxs)("div",{className:"modal-asignacion-form-grid",children:[(0,t.jsxs)("div",{className:"modal-chip-section",children:[(0,t.jsx)("label",{children:"Empleados"}),(0,t.jsxs)("div",{className:"modal-chip-container",ref:f,children:[(0,t.jsxs)("div",{className:"chips",children:[(0,t.jsxs)("div",{className:"modal-chip",children:[null==i?void 0:i.name," ",null==i?void 0:i.surname]}),O.map(e=>(0,t.jsxs)("div",{className:"modal-chip",children:[e.name," ",e.surname,(0,t.jsx)("span",{className:"modal-asignacion-remove-btn",onClick:()=>eu(e.document),children:"\xd7"})]},e.document)),(0,t.jsx)("button",{type:"button",className:"modal-asignacion-add-empleado-btn",onClick:()=>Y(e=>!e),children:"+"})]}),P&&(0,t.jsx)("div",{className:"modal-asignacion-dropdown-chip",children:0===p.length?(0,t.jsx)("div",{className:"modal-asignacion-no-opciones",children:"No hay empleados disponibles"}):p.filter(e=>e.document!==(null==i?void 0:i.document)&&!O.find(n=>n.document===e.document)).map(e=>(0,t.jsxs)("button",{onClick:()=>ed(e),children:[e.name," ",e.surname]},e.document))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:"Clientes"}),(0,t.jsxs)("div",{className:"modal-asignacion-dropdown",ref:g,children:[(0,t.jsx)("input",{type:"text",placeholder:"Nombre del Cliente",value:ea,onChange:e=>ep(e.target.value),onFocus:()=>{el(!0),K(Q),!ea&&W&&et("".concat(W.name," ").concat(W.surname))},onKeyDown:e=>{if("Enter"===e.key){if(e.preventDefault(),Z.length>0){let e=Z[0],n=e.addresses&&e.addresses.length>0?e.addresses[0]:null;ex(e,n)}}else"Escape"===e.key&&el(!1)}}),es&&(0,t.jsx)("div",{className:"modal-asignacion-dropdown-content",children:0===Z.length?(0,t.jsx)("div",{className:"modal-asignacion-no-opciones",children:0===Q.length?"No hay clientes disponibles":"Sin resultados"}):Z.flatMap(e=>(Array.isArray(e.addresses)&&e.addresses.length>0?e.addresses:[null]).map((n,a)=>{var s;let l="".concat(e.document,"-").concat(null!==(s=null==n?void 0:n.id)&&void 0!==s?s:a),c=(null==W?void 0:W.document)===e.document&&!!ee&&(ee.id&&(null==n?void 0:n.id)&&ee.id===n.id||ee.address===(null==n?void 0:n.address)&&ee.city===(null==n?void 0:n.city));return(0,t.jsxs)("button",{onClick:()=>ex(e,n),className:c?"selected":"",disabled:!n,title:n?"".concat(n.address).concat(n.city?" (".concat(n.city,")"):""):"Sin direcci\xf3n",children:[e.name," ",e.surname,(0,t.jsxs)("span",{className:"modal-asignacion-cliente-direccion",children:["\xa0— ",n?"".concat(n.address).concat(n.city?" (".concat(n.city,")"):""):"Sin direcci\xf3n"]})]},l)}))})]})]}),(0,t.jsxs)("div",{className:"modal-chip-section",children:[(0,t.jsx)("label",{children:"Servicios"}),(0,t.jsxs)("div",{className:"modal-chip-container",ref:y,children:[(0,t.jsxs)("div",{className:"chips",children:[V.map(e=>(0,t.jsxs)("div",{className:"modal-chip",children:[e.description,(0,t.jsx)("span",{className:"modal-asignacion-remove-btn",onClick:()=>eh(e.id),children:"\xd7"})]},e.id)),(0,t.jsx)("button",{type:"button",className:"modal-asignacion-add-servicio-btn",onClick:()=>_(e=>!e),children:"+"})]}),z&&(0,t.jsx)("div",{className:"modal-asignacion-dropdown-chip",children:0===G.length?(0,t.jsx)("div",{className:"modal-asignacion-no-opciones",children:"No hay servicios disponibles"}):0===G.filter(e=>!V.some(n=>n.id===e.id)).length?(0,t.jsx)("div",{className:"modal-asignacion-no-opciones",children:"Todos los servicios ya est\xe1n asignados"}):G.filter(e=>!V.some(n=>n.id===e.id)).map(e=>(0,t.jsx)("button",{onClick:()=>em(e),children:e.description},e.id))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:"Comentarios"}),(0,t.jsx)("textarea",{placeholder:"Comentarios adicionales",rows:3,className:"modal-asignacion-textarea",value:ec,onChange:e=>er(e.target.value)})]}),D.length>0&&(0,t.jsxs)("div",{className:"modal-chip-section",children:[(0,t.jsx)("label",{children:"Fechas seleccionadas"}),(0,t.jsx)("div",{className:"modal-chip-container",children:(0,t.jsx)("div",{className:"chips",children:D.map(e=>(0,t.jsx)("div",{className:"modal-chip",children:e},e))})})]}),(0,t.jsxs)("div",{className:"modal-asignacion-form-buttons modal-asignacion-full-width",children:[(0,t.jsx)("button",{type:"button",onClick:a,className:"modal-asignacion-btn-cancelar",children:"Cancelar"}),(0,t.jsxs)("button",{type:"button",className:"modal-asignacion-btn-confirmar",onClick:ev,children:["Asignar ",D.length>0?"(".concat(D.length,")"):""]})]})]})]}),(0,t.jsx)(o,{show:A,onClose:()=>E(!1),recurrence:k,baseDate:u,occurrences:4,onConfirm:e=>{L(e),E(!1)}})]}):null}},9471:()=>{},9521:(e,n,a)=>{"use strict";a.d(n,{k:()=>c,p:()=>r});var t=a(838),s=a(2115);let l=e=>fetch(e).then(e=>{if(!e.ok)throw Error("Error al cargar ciudades");return e.json()});function c(){let e="https://cleaniron-cffqbcg5b9ede6fm.eastus2-01.azurewebsites.net",{data:n,error:a}=(0,t.Ay)(e?"".concat(e,"/address/cities"):null,l);return{ciudades:n||[],isLoading:!a&&!n,isError:!!a}}function r(){let{startHour:e=0,endHour:n=24,stepMinutes:a=30}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.useMemo)(()=>{let t=[];for(let s=e;s<n;s++)for(let e=0;e<60;e+=a){let n="".concat(String(s).padStart(2,"0"),":").concat(String(e).padStart(2,"0"),":00"),a=new Date;a.setHours(s,e);let l=a.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"});t.push({value:n,label:l})}return t},[e,n,a])}}}]);