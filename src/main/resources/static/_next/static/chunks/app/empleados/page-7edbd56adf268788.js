(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663],{3566:()=>{},4251:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>j});var s=t(5155),n=t(2115),l=t(6874),r=t.n(l);let i=e=>{let{onNavClick:a,seccionActiva:t}=e;return(0,s.jsxs)("div",{className:"menu-lateral",children:[(0,s.jsxs)(r(),{href:"/menu-principal",className:"btn-53",children:[(0,s.jsx)("div",{className:"original",children:"← Regresar"}),(0,s.jsxs)("div",{className:"letters",children:[(0,s.jsx)("span",{children:"M"}),(0,s.jsx)("span",{children:"E"}),(0,s.jsx)("span",{children:"N"}),(0,s.jsx)("span",{children:"\xda"})]})]}),(0,s.jsx)("div",{className:"menu-buttons",children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:(0,s.jsx)("button",{className:"menu-btn ".concat("infoGeneral"===t?"activo":""),onClick:()=>a("infoGeneral"),children:"ℹ️ Informaci\xf3n General"})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{className:"menu-btn ".concat("listaEmpleados"===t?"activo":""),onClick:()=>a("listaEmpleados"),children:"\uD83D\uDC65 Lista de Empleados"})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{className:"menu-btn ".concat("editarEmpleados"===t?"activo":""),onClick:()=>a("editarEmpleados"),children:"✏️ Editar Empleado"})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{className:"menu-btn ".concat("reportes"===t?"activo":""),onClick:()=>a("reportes"),children:"\uD83D\uDCCA Reportes"})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{className:"menu-btn ".concat("configuracion"===t?"activo":""),onClick:()=>a("configuracion"),children:"⚙️ Configuraci\xf3n"})})]})})]})},c=()=>(0,s.jsx)("div",{className:"container",children:(0,s.jsx)("p",{children:"Contenido principal aqu\xed"})});var o=t(4619);t(3566);let d=()=>{let[e,a]=(0,n.useState)([]),[t,l]=(0,n.useState)(!0),[r,i]=(0,n.useState)(null),[c,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(null),[p,h]=(0,n.useState)(""),[x,j]=(0,n.useState)({ciudad:"",ordenamiento:"nombre"});(0,n.useEffect)(()=>{g()},[]);let g=async()=>{try{l(!0),i(null);let e=await (0,o.VU)();a(Array.isArray(e)?e:[])}catch(e){console.error("Error al buscar empleados:",e),i("Error al cargar los empleados"),a([])}finally{l(!1)}},v=(e,a)=>{j(t=>({...t,[e]:a})),m(null)},b=(0,n.useMemo)(()=>e.map(e=>e.city).filter(e=>e&&""!==e.trim()).filter((e,a,t)=>t.indexOf(e)===a).sort(),[e]),N=(0,n.useMemo)(()=>{let a=e.filter(e=>{let a=p.toLowerCase().trim(),t="".concat(e.name||""," ").concat(e.surname||"").toLowerCase(),s=(e.email||"").toLowerCase(),n=(e.city||"").toLowerCase(),l=(e.document||"").toString(),r=(e.phone||"").toString(),i=""===a||t.includes(a)||s.includes(a)||n.includes(a)||l.includes(a)||r.includes(a),c=!x.ciudad||e.city===x.ciudad;return i&&c});return a.sort((e,a)=>{switch(x.ordenamiento){case"nombre":let t="".concat(e.name||""," ").concat(e.surname||"").toLowerCase(),s="".concat(a.name||""," ").concat(a.surname||"").toLowerCase();return t.localeCompare(s);case"documento":return(e.document||0)-(a.document||0);case"email":return(e.email||"").localeCompare(a.email||"");case"ciudad":return(e.city||"").localeCompare(a.city||"");default:return 0}}),a},[e,p,x]),y=()=>{d(!c),m(null)},C=e=>{m(u===e?null:e)},f=e=>{switch(e){case"Ciudad":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>v("ciudad",""),children:"Todas las ciudades"}),b.map(e=>(0,s.jsx)("button",{onClick:()=>v("ciudad",e),className:x.ciudad===e?"selected":"",children:e},e))]});case"Ordenar":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>v("ordenamiento","nombre"),className:"nombre"===x.ordenamiento?"selected":"",children:"Por Nombre"}),(0,s.jsx)("button",{onClick:()=>v("ordenamiento","documento"),className:"documento"===x.ordenamiento?"selected":"",children:"Por Documento"}),(0,s.jsx)("button",{onClick:()=>v("ordenamiento","email"),className:"email"===x.ordenamiento?"selected":"",children:"Por Email"}),(0,s.jsx)("button",{onClick:()=>v("ordenamiento","ciudad"),className:"ciudad"===x.ordenamiento?"selected":"",children:"Por Ciudad"})]});default:return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{children:"Opci\xf3n 1"}),(0,s.jsx)("button",{children:"Opci\xf3n 2"}),(0,s.jsx)("button",{children:"Opci\xf3n 3"})]})}};return t?(0,s.jsx)("div",{className:"container",children:(0,s.jsx)("div",{className:"lista-clientes-content",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:(0,s.jsx)("div",{className:"no-results",children:"Cargando Empleados..."})})}):r?(0,s.jsx)("div",{className:"container",children:(0,s.jsx)("div",{className:"lista-clientes-content",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:(0,s.jsxs)("div",{className:"no-results",style:{flexDirection:"column",gap:"1rem"},children:[(0,s.jsx)("span",{children:r}),(0,s.jsx)("button",{onClick:g,className:"retry-btn",children:"Reintentar"})]})})}):(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("div",{className:"lista-clientes-content",children:[(0,s.jsxs)("div",{className:"top-bar",children:[(0,s.jsxs)("div",{className:"container-input",children:[(0,s.jsx)("input",{type:"text",value:p,onChange:e=>{h(e.target.value)},placeholder:"Buscar empleados por nombre, email, ciudad, documento...",className:"input"}),(0,s.jsx)("svg",{className:"search-icon",fill:"#000000",width:"20px",height:"20px",viewBox:"0 0 1920 1920",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M790.588 1468.235c-373.722 0-677.647-303.924-677.647-677.647 0-373.722 303.925-677.647 677.647-677.647 373.723 0 677.647 303.925 677.647 677.647 0 373.723-303.924 677.647-677.647 677.647Zm596.781-160.715c120.396-138.692 193.807-319.285 193.807-516.932C1581.176 354.748 1226.428 0 790.588 0S0 354.748 0 790.588s354.748 790.588 790.588 790.588c197.647 0 378.24-73.411 516.932-193.807l516.028 516.142 79.963-79.963-516.142-516.028Z",fillRule:"evenodd"})}),p&&(0,s.jsx)("button",{className:"clear-search",onClick:()=>{h("")},title:"Limpiar b\xfasqueda",children:"✕"})]}),!c&&(0,s.jsxs)("button",{className:"menu-btn-listaclientes filter-btn",onClick:y,children:[(0,s.jsx)("span",{className:"filter-icon",children:"\uD83D\uDD0D"})," Filtrar"]}),c&&(0,s.jsxs)("div",{className:"filter-buttons",children:[["Ciudad","Ordenar"].map(e=>(0,s.jsxs)("div",{className:"dropdown",children:[(0,s.jsxs)("button",{className:"menu-btn-listaclientes ".concat(u===e?"active-filter":""),onClick:()=>C(e),children:[e," ",u===e?"▲":"▼"]}),u===e&&(0,s.jsx)("div",{className:"dropdown-content",children:f(e)})]},e)),(0,s.jsx)("button",{className:"close-btn",onClick:y,children:"✖"})]})]}),(0,s.jsx)("div",{className:"results-info",children:N.length===e.length?"Mostrando ".concat(e.length," empleados"):"Mostrando ".concat(N.length," de ").concat(e.length," empleados")}),(0,s.jsx)("div",{className:"tabla-clientes-container",children:N.length>0?(0,s.jsxs)("table",{className:"tabla-clientes",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Nombre"}),(0,s.jsx)("th",{children:"N\xfamero Contacto"}),(0,s.jsx)("th",{children:"Documento"}),(0,s.jsx)("th",{children:"Email"}),(0,s.jsx)("th",{children:"Direcci\xf3n"}),(0,s.jsx)("th",{children:"Ciudad"})]})}),(0,s.jsx)("tbody",{children:N.map(e=>(0,s.jsxs)("tr",{className:"cliente-row",children:[(0,s.jsxs)("td",{children:[e.name," ",e.surname]}),(0,s.jsx)("td",{children:e.phone||"—"}),(0,s.jsx)("td",{children:e.document||"—"}),(0,s.jsx)("td",{children:e.email||"—"}),(0,s.jsx)("td",{children:e.addressResidence||"—"}),(0,s.jsx)("td",{children:e.city||"—"})]},"".concat(e.document,"-").concat(e.email)))})]}):(0,s.jsx)("div",{className:"no-results",children:p||x.ciudad?"No se encontraron empleados que coincidan con los filtros":"No hay empleados para mostrar"})})]})})},u=e=>{let{value:a,onChange:t,onResultado:l,mensajeError:r}=e,[i,c]=(0,n.useState)(!1),d=async()=>{if(a.trim()){c(!0);try{let e=await (0,o.El)(a);l(e)}catch(e){l(null)}finally{c(!1)}}};return(0,s.jsxs)("div",{className:"busqueda-form-grid",children:[(0,s.jsx)("input",{type:"text",placeholder:"Documento del empleado",value:a,onChange:t,className:"busqueda-full-width"}),(0,s.jsx)("div",{className:"busqueda-form-buttons busqueda-full-width",children:(0,s.jsx)("button",{type:"button",onClick:d,className:"menu-btn",children:i?"Buscando...":"\uD83D\uDD0D BUSCAR"})}),r&&(0,s.jsx)("p",{className:"no-results",children:r})]})},m=e=>{let{empleadoData:a,onVolver:t}=e,[l,r]=(0,n.useState)(""),[i,c]=(0,n.useState)(""),[d,u]=(0,n.useState)(""),[m,p]=(0,n.useState)(""),[h,x]=(0,n.useState)(""),[j,g]=(0,n.useState)(""),[v,b]=(0,n.useState)(""),[N,y]=(0,n.useState)(""),[C,f]=(0,n.useState)(""),[w,S]=(0,n.useState)("");(0,n.useEffect)(()=>{a&&(r(a.name||""),c(a.surname||""),u(a.document||""),p(a.email||""),x(a.phone||""),g(a.addressResidence||""),b(a.city||""),y(a.position||""),f(a.state?"Activo":"Inactivo"),S(a.entryDate||""))},[a]);let E=async()=>{if(window.confirm("\xbfEst\xe1s seguro de que deseas eliminar al empleado ".concat(l," ").concat(i,"?"))){try{await (0,o.bM)(a.document)}catch(e){alert("Error al agregar empleado."),console.error(e)}alert("Empleado eliminado correctamente ✅"),t&&t()}};return(0,s.jsxs)("div",{className:"empleados-form-grid",children:[(0,s.jsxs)("div",{className:"empleados-full-width empleados-form-grid",style:{maxHeight:"45vh",overflowY:"auto",paddingRight:"8px"},children:[(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"elim-nombre",children:"Nombre(s)"}),(0,s.jsx)("input",{id:"elim-nombre",type:"text",value:l,readOnly:!0,className:"empleados-readonly"})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"elim-apellido",children:"Apellido(s)"}),(0,s.jsx)("input",{id:"elim-apellido",type:"text",value:i,readOnly:!0,className:"empleados-readonly"})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"elim-documento",children:"N\xb0 Documento"}),(0,s.jsx)("input",{id:"elim-documento",type:"text",value:d,readOnly:!0,className:"empleados-readonly"})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"elim-email",children:"Correo electr\xf3nico"}),(0,s.jsx)("input",{id:"elim-email",type:"email",value:m,readOnly:!0,className:"empleados-readonly"})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"elim-phone",children:"N\xb0 Celular - Telefono"}),(0,s.jsx)("input",{id:"elim-phone",type:"text",value:h,readOnly:!0,className:"empleados-readonly"})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"elim-direccion",children:"Direcci\xf3n"}),(0,s.jsx)("input",{id:"elim-direccion",type:"text",value:j,readOnly:!0,className:"empleados-readonly"})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"elim-ciudad",children:"Ciudad"}),(0,s.jsx)("input",{id:"elim-ciudad",type:"text",value:v,readOnly:!0,className:"empleados-readonly"})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"elim-cargo",children:"Cargo"}),(0,s.jsx)("input",{id:"elim-cargo",type:"text",value:N,readOnly:!0,className:"empleados-readonly"})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"elim-estado",children:"Estado"}),(0,s.jsx)("input",{id:"elim-estado",type:"text",value:C,readOnly:!0,className:"empleados-readonly"})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"elim-fechaIngreso",children:"Fecha de Ingreso"}),(0,s.jsx)("input",{id:"elim-fechaIngreso",type:"date",value:w,readOnly:!0,className:"empleados-readonly"})]})]}),(0,s.jsxs)("div",{className:"empleados-form-buttons empleados-full-width",children:[(0,s.jsx)("button",{type:"button",className:"menu-btn",onClick:t,children:"\uD83D\uDD04 NUEVA B\xdaSQUEDA"}),(0,s.jsx)("button",{type:"button",className:"delete-btn",onClick:E,children:"\uD83D\uDDD1️ ELIMINAR"}),(0,s.jsx)("button",{type:"button",className:"cancel-btn",onClick:()=>{t&&t()},children:"❌ CANCELAR"})]})]})};var p=t(9521);let h=()=>{let[e,a]=(0,n.useState)(""),[t,l]=(0,n.useState)(""),[r,i]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),{ciudades:u,isLoading:m,isError:h}=(0,p.k)(),[x,j]=(0,n.useState)(""),[g,v]=(0,n.useState)(""),[b,N]=(0,n.useState)(""),[y,C]=(0,n.useState)(""),[f,w]=(0,n.useState)(""),[S,E]=(0,n.useState)(""),[D,k]=(0,n.useState)(""),[A,F]=(0,n.useState)(!1),[R,O]=(0,n.useState)(!1),[L,I]=(0,n.useState)(!1),U=(0,n.useRef)(null),q=(0,n.useRef)(null),M=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=e=>{q.current&&!q.current.contains(e.target)&&F(!1),M.current&&!M.current.contains(e.target)&&O(!1),U.current&&!U.current.contains(e.target)&&I(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let G=async()=>{if(!e||!t||!r||!c||!S||!x||!D){alert("Por favor completa todos los campos.");return}try{await (0,o.z2)({name:e,surname:t,document:r,email:c,phone:g,addressResidence:b,city:f,entryDate:x,position:S,comments:y,state:"Activo"===D}),alert("Empleado agregado exitosamente."),a(""),l(""),i(""),d(""),j(""),E(""),k("")}catch(e){alert("Error al agregar empleado."),console.error(e)}},B=()=>{a(""),l(""),i(""),d(""),j(""),E(""),k(""),v(""),N(""),C(""),w("")};return(0,s.jsxs)("div",{className:"empleados-form-grid",children:[(0,s.jsxs)("div",{className:"empleados-full-width empleados-form-grid",style:{maxHeight:"45vh",overflowY:"auto",paddingRight:"8px"},children:[(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"agregar-nombre",children:"Nombre(s)"}),(0,s.jsx)("input",{id:"agregar-nombre",type:"text",value:e,onChange:e=>a(e.target.value)})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"agregar-apellido",children:"Apellido(s)"}),(0,s.jsx)("input",{id:"agregar-apellido",type:"text",value:t,onChange:e=>l(e.target.value)})]}),(0,s.jsxs)("div",{className:"input-group",ref:U,children:[(0,s.jsx)("label",{htmlFor:"agregar-ciudad",children:"Ciudad"}),(0,s.jsxs)("div",{className:"dropdown",children:[(0,s.jsxs)("button",{id:"agregar-ciudad",type:"button",className:"dropdown-trigger ".concat(L?"open":""),onClick:()=>I(e=>!e),children:[(0,s.jsx)("span",{children:f||"Seleccionar ciudad"}),(0,s.jsx)("span",{className:"arrow",children:"▼"})]}),L&&(0,s.jsxs)("div",{className:"dropdown-content",children:[m&&(0,s.jsx)("div",{children:"Cargando ciudades..."}),h&&(0,s.jsx)("div",{children:"Error al cargar ciudades"}),!m&&!h&&u.map((e,a)=>(0,s.jsx)("button",{type:"button",onClick:()=>{w(e),I(!1)},children:e},a))]})]})]}),(0,s.jsxs)("div",{className:"input-group",ref:q,children:[(0,s.jsx)("label",{htmlFor:"agregar-cargo",children:"Cargo"}),(0,s.jsxs)("div",{className:"dropdown",children:[(0,s.jsxs)("button",{id:"agregar-cargo",type:"button",className:"dropdown-trigger ".concat(A?"open":""),onClick:()=>F(e=>!e),children:[(0,s.jsx)("span",{children:S||"Seleccionar cargo"}),(0,s.jsx)("span",{className:"arrow",children:"▼"})]}),A&&(0,s.jsx)("div",{className:"dropdown-content",children:["Coordinador","Supervisor","Asistente Administrativo","Secretario/a","Auxiliar","Contador","Recursos Humanos","Atenci\xf3n al Cliente","Operario"].map((e,a)=>(0,s.jsx)("button",{type:"button",onClick:()=>{E(e),F(!1)},children:e},a))})]})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"agregar-direccion",children:"Direcci\xf3n"}),(0,s.jsx)("input",{id:"agregar-direccion",type:"text",value:b,onChange:e=>N(e.target.value)})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"agregar-documento",children:"N\xb0 Documento"}),(0,s.jsx)("input",{id:"agregar-documento",type:"text",value:r,onChange:e=>i(e.target.value)})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"agregar-email",children:"Correo electr\xf3nico"}),(0,s.jsx)("input",{id:"agregar-email",type:"email",value:c,onChange:e=>d(e.target.value)})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"agregar-phone",children:"N\xb0 Celular - Telefono"}),(0,s.jsx)("input",{id:"agregar-phone",type:"text",value:g,onChange:e=>v(e.target.value)})]}),(0,s.jsxs)("div",{className:"input-group",ref:M,children:[(0,s.jsx)("label",{htmlFor:"agregar-estado",children:"Estado"}),(0,s.jsxs)("div",{className:"dropdown",children:[(0,s.jsxs)("button",{id:"agregar-estado",type:"button",className:"dropdown-trigger ".concat(R?"open":""),onClick:()=>O(e=>!e),children:[(0,s.jsx)("span",{children:D||"Seleccionar estado"}),(0,s.jsx)("span",{className:"arrow",children:"▼"})]}),R&&(0,s.jsx)("div",{className:"dropdown-content",children:["Activo","Inactivo"].map((e,a)=>(0,s.jsx)("button",{type:"button",onClick:()=>{k(e),O(!1)},children:e},a))})]})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"agregar-fecha",children:"Fecha de ingreso"}),(0,s.jsx)("input",{id:"agregar-fecha",type:"date",value:x,onChange:e=>j(e.target.value)})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{children:"Comentarios"}),(0,s.jsx)("textarea",{className:"modal-asignacion-textarea",value:y,onChange:e=>C(e.target.value)})]})]}),(0,s.jsxs)("div",{className:"empleados-form-buttons empleados-full-width",children:[(0,s.jsx)("button",{type:"button",className:"menu-btn",onClick:G,children:"➕ AGREGAR"}),(0,s.jsx)("button",{type:"reset",className:"cancel-btn",onClick:()=>{(e||t||r||c||g||b||f||S||D||x)&&window.confirm("\xbfDeseas borrar todos los campos?")&&B()},children:"❌ CANCELAR"})]})]})};t(8128);let x=()=>{let[e,a]=(0,n.useState)("edit"),[t,l]=(0,n.useState)(""),[r,i]=(0,n.useState)(null),[c,d]=(0,n.useState)(""),[x,j]=(0,n.useState)(""),[g,v]=(0,n.useState)(""),[b,N]=(0,n.useState)(""),[y,C]=(0,n.useState)(""),[f,w]=(0,n.useState)(""),[S,E]=(0,n.useState)(""),[D,k]=(0,n.useState)(""),{ciudades:A,isLoading:F,isError:R}=(0,p.k)(),[O,L]=(0,n.useState)(""),[I,U]=(0,n.useState)(""),[q,M]=(0,n.useState)(""),[G,B]=(0,n.useState)(""),[_,P]=(0,n.useState)(!1),[z,H]=(0,n.useState)(!1),[T,V]=(0,n.useState)(!1),[Y,Q]=(0,n.useState)(!1),[Z,J]=(0,n.useState)(!1),X=(0,n.useRef)(null),K=(0,n.useRef)(null),W=(0,n.useRef)(null),$=["Coordinador","Supervisor","Asistente Administrativo","Secretario/a","Auxiliar","Contador","Recursos Humanos","Atenci\xf3n al Cliente","Operario"],ee=["Activo","Inactivo"];(0,n.useEffect)(()=>{r&&(d(r.name||""),j(r.surname||""),v(r.document||""),N(r.email||""),C(r.phone||""),w(r.addressResidence||""),k(r.comments||""),M(r.city||""),r.entryDate?E(r.entryDate):E(""))},[r]),(0,n.useEffect)(()=>{let e=e=>{K.current&&!K.current.contains(e.target)&&Q(!1),W.current&&!W.current.contains(e.target)&&J(!1),X.current&&!X.current.contains(e.target)&&V(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let ea=a=>{a?(i(a),L(a.position),U(a.state?"Activo":"Inactivo"),"edit"===e?P(!0):"delete"===e&&H(!0),B("")):(i(null),P(!1),H(!1),B("Empleado no encontrado."))},et=async()=>{if(r)try{await (0,o.Ue)(r.id||r.document,{name:c,surname:x,email:b,phone:y,addressResidence:f,city:q,document:g,fechaIngreso:S,position:O,comments:D,state:"Activo"===I}),alert("Empleado actualizado correctamente ✅")}catch(e){alert("Error al actualizar empleado ❌"+e)}},es=()=>{l(""),i(null),P(!1),H(!1),B(""),L(""),U("")};return(0,s.jsx)("div",{className:"container",children:(0,s.jsx)("div",{className:"empleados-wrapper",children:(0,s.jsxs)("div",{className:"empleados-tab-container",children:[(0,s.jsxs)("div",{className:"empleados-tabs",children:[(0,s.jsx)("button",{className:"empleados-tab ".concat("edit"===e?"active":""),onClick:()=>{a("edit"),es()},children:"✏️ Editar"}),(0,s.jsx)("button",{className:"empleados-tab ".concat("add"===e?"active":""),onClick:()=>{a("add"),es()},children:"➕ Agregar"}),(0,s.jsx)("button",{className:"empleados-tab ".concat("delete"===e?"active":""),onClick:()=>{a("delete"),es()},children:"\uD83D\uDDD1️ Eliminar"})]}),(0,s.jsx)("div",{className:"empleados-content-area",children:"edit"===e?_?(0,s.jsxs)("div",{className:"empleados-form-grid",children:[(0,s.jsxs)("div",{className:"empleados-full-width empleados-form-grid",style:{maxHeight:"45vh",overflowY:"auto",paddingRight:"8px"},children:[(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"emp-nombre",children:"Nombre(s)"}),(0,s.jsx)("input",{id:"emp-nombre",type:"text",value:c,onChange:e=>d(e.target.value)})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"emp-apellido",children:"Apellido(s)"}),(0,s.jsx)("input",{id:"emp-apellido",type:"text",value:x,onChange:e=>j(e.target.value)})]}),(0,s.jsxs)("div",{className:"input-group",ref:X,children:[(0,s.jsx)("label",{htmlFor:"emp-ciudad",children:"Ciudad"}),(0,s.jsxs)("div",{className:"dropdown",children:[(0,s.jsxs)("button",{id:"emp-ciudad",type:"button",className:"dropdown-trigger ".concat(T?"open":""),onClick:()=>V(e=>!e),children:[(0,s.jsx)("span",{children:q||(F?"Cargando ciudades…":"Seleccionar ciudad")}),(0,s.jsx)("span",{className:"arrow",children:"▼"})]}),T&&(0,s.jsxs)("div",{className:"dropdown-content",children:[F&&(0,s.jsx)("div",{children:"Cargando ciudades..."}),R&&(0,s.jsx)("div",{children:"Error al cargar ciudades"}),!F&&!R&&A.map((e,a)=>(0,s.jsx)("button",{type:"button",onClick:()=>{M(e),V(!1)},children:e},a))]})]})]}),(0,s.jsxs)("div",{className:"input-group",ref:K,children:[(0,s.jsx)("label",{htmlFor:"emp-cargo",children:"Cargo"}),(0,s.jsxs)("div",{className:"dropdown",children:[(0,s.jsxs)("button",{id:"emp-cargo",type:"button",className:"dropdown-trigger ".concat(Y?"open":""),onClick:()=>Q(e=>!e),children:[(0,s.jsx)("span",{children:O||"Seleccionar cargo"}),(0,s.jsx)("span",{className:"arrow",children:"▼"})]}),Y&&(0,s.jsx)("div",{className:"dropdown-content",children:$.map((e,a)=>(0,s.jsx)("button",{type:"button",onClick:()=>{L(e),Q(!1)},children:e},a))})]})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"emp-documento",children:"N\xb0 Documento"}),(0,s.jsx)("input",{id:"emp-documento",type:"text",value:g,onChange:e=>v(e.target.value)})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"emp-email",children:"Correo electr\xf3nico"}),(0,s.jsx)("input",{id:"emp-email",type:"email",value:b,onChange:e=>N(e.target.value)})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"emp-phone",children:"N\xb0 Celular - Telefono"}),(0,s.jsx)("input",{id:"emp-phone",type:"text",value:y,onChange:e=>C(e.target.value)})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"emp-direccion",children:"Direcci\xf3n"}),(0,s.jsx)("input",{id:"emp-direccion",type:"text",value:f,onChange:e=>w(e.target.value)})]}),(0,s.jsxs)("div",{className:"input-group",ref:W,children:[(0,s.jsx)("label",{htmlFor:"emp-estado",children:"Estado"}),(0,s.jsxs)("div",{className:"dropdown",children:[(0,s.jsxs)("button",{id:"emp-estado",type:"button",className:"dropdown-trigger ".concat(Z?"open":""),onClick:()=>J(e=>!e),children:[(0,s.jsx)("span",{children:I||"Seleccionar estado"}),(0,s.jsx)("span",{className:"arrow",children:"▼"})]}),Z&&(0,s.jsx)("div",{className:"dropdown-content",children:ee.map((e,a)=>(0,s.jsx)("button",{type:"button",onClick:()=>{U(e),J(!1)},children:e},a))})]})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"emp-fechaIngreso",children:"Fecha de Ingreso"}),(0,s.jsx)("input",{id:"emp-fechaIngreso",type:"date",value:S,onChange:e=>E(e.target.value)})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{children:"Comentarios"}),(0,s.jsx)("textarea",{className:"modal-asignacion-textarea",value:D,onChange:e=>k(e.target.value)})]})]}),(0,s.jsxs)("div",{className:"empleados-form-buttons empleados-full-width",children:[(0,s.jsx)("button",{type:"button",className:"menu-btn",onClick:es,children:"\uD83D\uDD04 NUEVA B\xdaSQUEDA"}),(0,s.jsx)("button",{type:"submit",className:"menu-btn",onClick:et,children:"\uD83D\uDCBE GUARDAR CAMBIOS"}),(0,s.jsx)("button",{type:"reset",className:"cancel-btn",onClick:es,children:"❌ CANCELAR"})]})]}):(0,s.jsx)(u,{value:t,onChange:e=>l(e.target.value),onResultado:ea,mensajeError:G}):"add"===e?(0,s.jsx)(h,{}):"delete"===e?z?(0,s.jsx)(m,{empleadoData:r,onVolver:es}):(0,s.jsx)(u,{value:t,onChange:e=>l(e.target.value),onResultado:ea,mensajeError:G}):null})]})})})},j=()=>{let[e,a]=(0,n.useState)("infoGeneral");return(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)(i,{onNavClick:e=>{a(e)},seccionActiva:e}),(()=>{switch(e){case"infoGeneral":default:return(0,s.jsx)(c,{});case"listaEmpleados":return(0,s.jsx)(d,{});case"editarEmpleados":return(0,s.jsx)(x,{})}})()]})}},4619:(e,a,t)=>{"use strict";t.d(a,{AX:()=>i,El:()=>v,GZ:()=>l,JV:()=>N,Jq:()=>n,Qb:()=>j,R1:()=>x,Ue:()=>y,VU:()=>g,Yu:()=>m,_U:()=>p,bM:()=>C,co:()=>c,fS:()=>d,g_:()=>f,he:()=>h,qP:()=>u,u7:()=>r,xb:()=>o,z2:()=>b});let s=t(3464).A.create({baseURL:"https://cleaniron-cffqbcg5b9ede6fm.eastus2-01.azurewebsites.net",headers:{"Content-Type":"application/json"}}),n=async()=>{let{data:e}=await s.get("/service/all");return e},l=async e=>{let{data:a}=await s.post("/schedule",e);return a},r=async(e,a,t)=>{let{data:n}=await s.get("/schedule/servicesCity/".concat(e),{params:{year:a,month:t}});return n},i=async(e,a,t)=>{let{data:n}=await s.get("/schedule/servicesEmployee/".concat(e),{params:{year:a,month:t}});return n},c=async e=>{let{data:a}=await s.get("/schedule/".concat(e));return a},o=async(e,a,t,n)=>{let l={};t&&(l.city=t),e&&(l.name=e),a&&(l.surname=a);let r=Object.keys(l).length?{params:l}:{},{data:i}=await s.get("/schedule/".concat(n,"/filter"),r);return i},d=async(e,a)=>{let{data:t}=await s.patch("/schedule/".concat(e),a);return t},u=async e=>{await s.delete("/schedule/".concat(e))},m=async()=>{let{data:e}=await s.get("/client");return e},p=async e=>{let{data:a}=await s.post("/client",e);return a},h=async e=>{let{data:a}=await s.get("/client/".concat(e));return a},x=async(e,a)=>{await s.put("/client/".concat(e),a)},j=async e=>{await s.delete("/client/".concat(e))},g=async()=>{let{data:e}=await s.get("/employee");return e},v=async e=>{let{data:a}=await s.get("/employee/".concat(e));return a},b=async e=>{let{data:a}=await s.post("/employee",e);return a},N=async e=>{let{data:a}=await s.get("/employee/city/".concat(encodeURIComponent(e)));return a},y=async(e,a)=>{let{data:t}=await s.patch("/employee/update/".concat(e),a);return t},C=async e=>{await s.delete("/employee/delete/".concat(e))},f=async(e,a,t,n)=>{let{data:l}=await s.get("/employee/available",{params:{date:e,startHour:a,endHour:t,city:n}});return l}},7919:(e,a,t)=>{Promise.resolve().then(t.bind(t,4251))},8128:()=>{},9521:(e,a,t)=>{"use strict";t.d(a,{k:()=>r,p:()=>i});var s=t(838),n=t(2115);let l=e=>fetch(e).then(e=>{if(!e.ok)throw Error("Error al cargar ciudades");return e.json()});function r(){let e="https://cleaniron-cffqbcg5b9ede6fm.eastus2-01.azurewebsites.net",{data:a,error:t}=(0,s.Ay)(e?"".concat(e,"/address/cities"):null,l);return{ciudades:a||[],isLoading:!t&&!a,isError:!!t}}function i(){let{startHour:e=0,endHour:a=24,stepMinutes:t=30}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.useMemo)(()=>{let s=[];for(let n=e;n<a;n++)for(let e=0;e<60;e+=t){let a="".concat(String(n).padStart(2,"0"),":").concat(String(e).padStart(2,"0"),":00"),t=new Date;t.setHours(n,e);let l=t.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"});s.push({value:a,label:l})}return s},[e,a,t])}}},e=>{var a=a=>e(e.s=a);e.O(0,[575,169,874,705,441,684,358],()=>a(7919)),_N_E=e.O()}]);